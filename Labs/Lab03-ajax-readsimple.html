<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <title>Lab 3 - uses AJAX to read the JSON from the website</title>
</head>

<body>
    <button onclick="readJSON()">USD and GBP rate for bit coin </button>
    <p id='USDrate'></p>
    <p id='GBPrate'></p>
</body>
<script>
    function readJSON(){
        $.ajax({
            "url": " https://api.coindesk.com/v1/bpi/currentprice.json",
            "method": "GET",
            "data": "",
            "dataType": "JSON",
            "success": function(result){
                var USDrate = result.bpi.USD.rate;
                var GBPrate = result.bpi.GBP.rate;
                document.getElementById('USDrate').innerText = "USD rate: " + USDrate;
                document.getElementById('GBPrate').innerText = "GBP rate: " + GBPrate;
            },
            "error": function(xhr, status, error){
                console.log("error: " + status + "msg: " + error);
            }

        });
    }
    
</script>

</html>